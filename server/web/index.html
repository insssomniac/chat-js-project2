<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
  <link rel="stylesheet" href="css/main.css">
  <title>Document</title>
</head>
<body>
<div id="app"></div>
</body>
<script id="chat-template" type="text/x-handlebars-template">

  {{#if uid}}
  <div class="chat">
    <div class="chat__left-section users" id="users"></div>

    <div class="chat__main-section main">
      <div class="main__top-line">
        <div class="main__title">Чат</div>
        <div class="main__members">2 участника</div>
      </div>

      <div class="main__conversation-section conversation" id="conversation-section"></div>

      <div class="main__bottom-line">
        <form action="#" id="message-form" method="post" class="message-form">
          <label class="message-form__block">
            <input type="text" id="message-input" autocomplete="off" name="message" placeholder="Введите сообщение..." class="form__input form__input--small" required>
          </label>
          <button type="submit" id="sendButton" class="btn btn--blue btn--small">Отправить</button>
        </form>
      </div>
    </div>
  </div>

  <a href="#" class="hamburger" id="hamburger">
    <span class="hamburger__plank"></span>
    <span class="hamburger__plank"></span>
    <span class="hamburger__plank"></span>
  </a>

  <div class="fullscreen-modal modal" id="fullscreen-modal">
    <div class="modal__window">
      <a class="fullscreen-modal__close-btn btn-close-modal" id="close-fs-modal"></a>
      <div class="modal__title">Загрузка фото</div>
      <div class="modal__desc">Перетащите изображение в эту область</div>
      <div class="modal__content">
        <div class="modal__pic-preview"></div>
        <div class="modal__nickname">{{nickname}}</div>
      </div>
    </div>
  </div>
  {{else}}
  <div id="welcome" class="welcome">
    <div class="welcome__login">
      <div class="welcome__icon-block">
        <img src="resources/chat-icon.svg" alt="chat icon" class="welcome__icon-elem">
      </div>
      <h1 class="welcome__title title">Авторизация</h1>
      <div class="welcome__desc">Введите пожалуйста свой ник для дальнейшей авторизации</div>
      <form action="#" method="post" class="form" id="login-form">
        <label class="form__block">
          <input type="text" id="nickname-input" name="name" placeholder="Введите свой ник" class="form__input form__input--large" required>
        </label>
        <button type="submit" class="btn btn--blue btn--large">Войти</button>
      </form>
    </div>
  </div>
  {{/if}}
</script>
<script id="message-own" type="text/x-handlebars-template">
  <div class="conversation__message message own-message" data-author="{{uid}}">
    <div class="message__block">
      <div class="message__nickname">{{nickname}}</div>
        <div class="message__unit">
          <div class="message__text">{{text}}</div>
          <div class="message__time">{{time}}</div>
        </div>
    </div>
    <div class="message__user-pic">
    </div>
  </div>
</script>
<script id="message-someone" type="text/x-handlebars-template">
  <div class="conversation__message message someone-message" data-author="{{uid}}">
    <div class="message__user-pic">
    </div>
    <div class="message__block">
      <div class="message__nickname">{{nickname}}</div>
      <div class="message__unit">
        <div class="message__text">{{text}}</div>
        <div class="message__time">{{time}}</div>
      </div>
    </div>
  </div>
</script>
<script id="message-unit" type="text/x-handlebars-template">
  <div class="message__unit">
    <div class="message__text">{{text}}</div>
    <div class="message__time">{{time}}</div>
  </div>
</script>
<script id="message-unit-service" type="text/x-handlebars-template">
  <div class="message__unit service-message">
    <div class="service-message__text">{{text}}</div>
    <div class="service-message__time">{{time}}</div>
  </div>
</script>
<script id="user-info-left-panel" type="text/x-handlebars-template">
  <div class="users__user user">
    <div class="user__picture-container">
    </div>
    <div class="user__info">
      <div class="user__nickname">{{nickname}}</div>
      <div class="user__last-message">{{lastmessage}}</div>
    </div>
  </div>
</script>
<script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
<script src="js/main.js"></script>
</html>